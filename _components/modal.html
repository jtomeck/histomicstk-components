---
title: Modal
---

<!-- Modal Background Overlay -->
<div id="modalOverlay" class="fixed inset-0 bg-neutral-900 bg-opacity-70 backdrop-filter backdrop-blur-sm z-40"></div>

<!-- Modal -->
<div id="modal" class="fixed inset-0 flex items-center justify-center text-sm z-50">
    <div class="bg-white flex flex-col h-full max-h-[calc(100vh-100px)] max-w-3xl overflow-hidden rounded-lg shadow-lg w-full">
        
        <!-- Top Bar -->
        <div class="flex items-center px-3 py-2 bg-gray-200">
            <h4 class="flex-1">Edit Columns</h4>
            <div class="space-x-2 text-xs">
                Advanced user? <a href="" class="text-secondary hover:text-secondary-hover hover:underline">Edit YAML</a>
            </div>
        </div>
        
        <!-- Modal Content -->
        <div class="flex flex-col flex-grow overflow-hidden">
            
            <!-- Search Bar -->
            <div id="searchSection" class="relative flex flex-col p-3 bg-primary shadow-md transition-all duration-300">
                <div class="flex items-center">
                    <input id="searchInput" type="text" class="bg-white border border-neutral-200 rounded-md w-full px-3 py-2 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-secondary focus:ring-offset-1" placeholder="Add a column type" onfocus="expandSearch()">
                    <button id="closeSearchBtn" class="htk-btn htk-btn-xs htk-btn-secondary ml-3 hidden" onclick="collapseSearch()">Done</button>
                </div>
                
                <!-- Search Results -->
                <div id="searchResults" class="bg-white rounded-md flex-grow overflow-hidden transition-all duration-300 mt-3 hidden">
                    <ul class="h-full overflow-y-auto">
                        <!-- Example search results -->
                        <li class="border-b border-neutral-200">
                            <label class="custom-checkbox px-3 py-2 w-full">
                                <input type="checkbox">
                                <i class="ri-checkbox-blank-line icon icon-unchecked text-neutral-500 mr-3 text-xl"></i>
                                <i class="ri-checkbox-fill icon icon-checked text-secondary mr-3 text-xl"></i>
                                Checkbox text
                            </label>
                        </li>
                        
                        <li class="border-b border-neutral-200">
                            <label class="custom-checkbox px-3 py-2 w-full">
                                <input type="checkbox">
                                <i class="ri-checkbox-blank-line icon icon-unchecked text-neutral-500 mr-3 text-xl"></i>
                                <i class="ri-checkbox-fill icon icon-checked text-secondary mr-3 text-xl"></i>
                                Checkbox text
                            </label>
                        </li>
                        
                        <li class="border-b border-neutral-200">
                            <label class="custom-checkbox px-3 py-2 w-full">
                                <input type="checkbox">
                                <i class="ri-checkbox-blank-line icon icon-unchecked text-neutral-500 mr-3 text-xl"></i>
                                <i class="ri-checkbox-fill icon icon-checked text-secondary mr-3 text-xl"></i>
                                Checkbox text
                            </label>
                        </li>
                        
                        <li class="border-b border-neutral-200">
                            <label class="custom-checkbox px-3 py-2 w-full">
                                <input type="checkbox">
                                <i class="ri-checkbox-blank-line icon icon-unchecked text-neutral-500 mr-3 text-xl"></i>
                                <i class="ri-checkbox-fill icon icon-checked text-secondary mr-3 text-xl"></i>
                                Checkbox text
                            </label>
                        </li>
                        
                        <li class="border-b border-neutral-200">
                            <label class="custom-checkbox px-3 py-2 w-full">
                                <input type="checkbox">
                                <i class="ri-checkbox-blank-line icon icon-unchecked text-neutral-500 mr-3 text-xl"></i>
                                <i class="ri-checkbox-fill icon icon-checked text-secondary mr-3 text-xl"></i>
                                Checkbox text
                            </label>
                        </li>
                        
                        <li class="border-b border-neutral-200">
                            <label class="custom-checkbox px-3 py-2 w-full">
                                <input type="checkbox">
                                <i class="ri-checkbox-blank-line icon icon-unchecked text-neutral-500 mr-3 text-xl"></i>
                                <i class="ri-checkbox-fill icon icon-checked text-secondary mr-3 text-xl"></i>
                                Checkbox text
                            </label>
                        </li>
                        
                    </ul>
                </div>
            </div>
            
            <!-- Expandable List -->
            <div id="expandableList" class="flex flex-col flex-grow p-3 bg-neutral-100 overflow-y-auto shadow-[inset_0_-4px_6px_-2px_rgba(0,0,0,0.05)]">
                <ul class="space-y-1">
                    <!-- Non-expandable items with lock icon -->
                    <li class="bg-white border border-neutral-200 flex flex-col items-stretch rounded-md">
                        <div class="flex items-center px-2 py-1 space-x-2 cursor-default">
                            <i class="ri-draggable text-lg text-neutral-500"></i>
                            <span class="flex-1 text-neutral-400">Name</span>
                            <i class="ri-lock-line text-lg text-neutral-500"></i>
                        </div>
                    </li>
                    <li class="bg-white border border-neutral-200 flex flex-col items-stretch rounded-md">
                        <div class="flex items-center px-2 py-1 space-x-2 cursor-default">
                            <i class="ri-draggable text-lg text-neutral-500"></i>
                            <span class="flex-1 text-neutral-400">Size</span>
                            <i class="ri-lock-line text-lg text-neutral-500"></i>
                        </div>
                    </li>
                    <!-- Expandable items with chevron icon -->
                    <li class="bg-white border border-neutral-200 flex flex-col group items-stretch rounded-md">
                        <div class="flex items-center px-2 py-1 space-x-2 cursor-pointer" onclick="toggleExpand(this)">
                            <i class="ri-draggable text-lg text-neutral-500"></i>
                            <span class="flex-1">Stain</span>
                            <div class="border-r border-neutral-200 hidden px-3 group-hover:block">
                                <button class="htk-btn htk-btn-ghost htk-btn-xs htk-btn-icon">
                                    <i class="ri-delete-bin-2-fill"></i>
                                </button>
                            </div>
                            <i class="ri-arrow-down-s-line text-lg text-neutral-500 rotate-0 transition-transform duration-300"></i>
                        </div>
                        <div class="expandable-content overflow-hidden max-h-0 transition-all duration-300">
                            <div class="p-3">
                                <!-- Content to show when expanded -->
                                <p>Expanded content for Stain</p>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
            
            <!-- Footer -->
            <div class="bg-white border-t border-neutral-200 flex justify-end p-3 space-x-2">
                <button class="htk-btn htk-btn-ghost">Cancel</button>
                <button class="htk-btn htk-btn-primary">Save</button>
            </div>
        </div>
    </div>
</div>

<style>
    
    /* Styles to handle the search bar expansion */
    #searchResults.hidden {
        display: none;
    }
    #searchResults.visible {
        display: block;
    }
    #searchSection.expanded {
        flex-grow: 1;
        height: 100%;
    }
    #expandableList.hidden {
        display: none;
    }

    /* Styles for expandable content */
    .expandable-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease;
    }
    .expandable-content.expanded {
        max-height: 500px; /* Adjust this value based on your content */
    }

    /* Rotate chevron icon */
    .rotate-180 {
        transform: rotate(180deg);
    }
</style>

<script>
    function expandSearch() {
        document.getElementById('searchSection').classList.add('expanded');
        document.getElementById('searchResults').classList.remove('hidden');
        document.getElementById('searchResults').classList.add('visible');
        document.getElementById('expandableList').classList.add('hidden');
        document.getElementById('closeSearchBtn').classList.remove('hidden');
    }

    function collapseSearch() {
        document.getElementById('searchSection').classList.remove('expanded');
        document.getElementById('searchResults').classList.remove('visible');
        document.getElementById('searchResults').classList.add('hidden');
        document.getElementById('expandableList').classList.remove('hidden');
        document.getElementById('closeSearchBtn').classList.add('hidden');
        document.getElementById('searchInput').value = '';
    }

    // Prevent search results from hiding when interacting with the checkboxes
    document.getElementById('searchResults').addEventListener('mousedown', function(event) {
        event.preventDefault();
    });

    // Function to toggle expandable content
    function toggleExpand(element) {
        const expandableContent = element.nextElementSibling;
        const chevronIcon = element.querySelector('i.ri-arrow-down-s-line');

        if (expandableContent.classList.contains('expanded')) {
            expandableContent.classList.remove('expanded');
            expandableContent.style.maxHeight = '0';
            chevronIcon.classList.remove('rotate-180');
        } else {
            expandableContent.classList.add('expanded');
            expandableContent.style.maxHeight = expandableContent.scrollHeight + 'px';
            chevronIcon.classList.add('rotate-180');
        }
    }
</script>
